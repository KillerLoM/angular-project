<div class="d-flex flex-row mb-3" style="margin-top: 44%;">
  <div class="p-2 payment-method">
    <h1 style="font-weight: 800; font-size: 24px;">Các kênh thanh toán:</h1>    
    <div class="d-flex flex-column mb-3" style="margin-left: 80px;">
      <div class="p-2">
        Momo: 0123456789 hoặc mã QR:
        </div>
        <span class="p-2">
          <img
            style="width: 220px; height: 220px"
            src="https://laptopdell.com.vn/wp-content/uploads/2022/08/ma-qr-code-la-gi.png"
            alt=""
            srcset=""
          />
        </span>
    </div>
    <div class="d-flex flex-column mb-3" style="margin-left: 80px;">
        <div class="p-2">
          CK Agribank: 0123456789 hoặc mã QR:
        </div>
          <span class="p-2">
            <img
                style="width: 220px; height: 220px"
              src="https://laptopdell.com.vn/wp-content/uploads/2022/08/ma-qr-code-la-gi.png"
              alt=""
              srcset=""
            />
          </span>
          <span class="p-2" style="font-size: 20px; font-weight: 400; font-style: italic;">
            Sau khi chuyển khoản xong vui lòng liên hệ admin <a style="font-style: normal; color: blue;" href="fb.com" target="_blank" class="text-reset"> tại đây</a> để có thể truy cập vào khóa học và được hướng dẫn chuyên sâu hơn
          </span>
        </div>
    </div>
  <div class="p-2" style="margin-left: 2%">
    <mat-tab-group>
      <mat-tab label="Mua toàn bộ khóa học trong giỏ"> 
        <table mat-table [dataSource]="carts" class="mat-elevation-z8">
            <ng-container matColumnDef="item">
              <th mat-header-cell *matHeaderCellDef> Khóa </th>
              <td mat-cell *matCellDef="let transaction"> {{transaction.title}} </td>
              <td mat-footer-cell *matFooterCellDef> Tổng cộng </td>
            </ng-container>
            <ng-container matColumnDef="cost">
              <th mat-header-cell *matHeaderCellDef> Giá </th>
              <td mat-cell *matCellDef="let transaction"> {{appService.formatCurrency(transaction.price)}} đồng</td>
              <td mat-footer-cell *matFooterCellDef> {{appService.formatCurrency(sum) }} </td>
            </ng-container>
          
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
          </table>
          <div style="margin-top: 20px;margin-right: 20px;" class="d-flex flex-row-reverse">
            <button class="p-2" mat-stroked-button (click)="handlePaymentAll()">Thanh toán ngay</button>
          </div>
          
    </mat-tab>
      <mat-tab label="Chọn các khóa học theo bạn muốn"> 
        
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

 <ng-container matColumnDef="select">
    <th mat-header-cell *matHeaderCellDef>
      <mat-checkbox (change)="$event ? toggleAllRows() : null"
                    [checked]="selection.hasValue() && isAllSelected()"
                    [indeterminate]="selection.hasValue() && !isAllSelected()"
                    [aria-label]="checkboxLabel()">
      </mat-checkbox>
    </th>
    <td mat-cell *matCellDef="let row">
      <mat-checkbox (click)="$event.stopPropagation()"
                    (change)="$event ? selection.toggle(row) : null"
                    [checked]="selection.isSelected(row)"
                    [aria-label]="checkboxLabel(row)">
      </mat-checkbox>
    </td>
  </ng-container>

              <ng-container matColumnDef="position">
                <th mat-header-cell *matHeaderCellDef> Vị trí  </th>
                <td mat-cell *matCellDef="let element"> {{element.position}} </td>
              </ng-container>
              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Tên khóa học </th>
                <td mat-cell *matCellDef="let element"> {{element.title}} </td>
              </ng-container>
              <ng-container matColumnDef="price">
                <th mat-header-cell *matHeaderCellDef> Giá </th>
                <td mat-cell *matCellDef="let element"> {{appService.formatCurrency(element.price)}}</td>
              </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns2;"
                (click)="selection.toggle(row)">
            </tr>
          </table>
          <div style="font-weight: bold; margin-top: 50px;font-size: 24px;">
            <p>Tổng cộng giá tiền đã chọn: {{ appService.formatCurrency(totalSelectedPrice) }}</p>
          </div>
          <div style="margin-top: 20px;margin-right: 20px;" class="d-flex flex-row-reverse">
            <button (click)="handlePayment()" class="p-2" mat-stroked-button>Thanh toán ngay</button>
          </div>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
